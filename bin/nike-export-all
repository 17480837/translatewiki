#!/bin/bash

DIRSCRIPT="`dirname \"$0\"`"
DIRSCRIPT="`( cd \"$DIRSCRIPT\" && pwd )`"

if [ $(ssh-add -l | wc -l) != 2 ]
then
	echo "Some SSH keys are missing"
	exit
fi

PROJECTS="
blockly
citationhunt
codev
commons-android
copypatrol
crosswatch
entryscape
eol
etherpad-lite
europeana
freecol
fudforum
gapfinder
hivejs
huggle
inaturalist
intuition
intuition-tools
jquery.uls
kiwix
lib.reviews
mantis
mathjax
mwgerrit
mwgithub
nfcring-control
oppia
osm
pageviews
pywikibot
vicuna
video2commons
waymarked-trails-site
wiki-ai
wikiblame
wikidata
wikiedudashboard
wikimania
wikimedia-portals
wikipedia-android
wikipedia-ios
"

_b=$(tput bold)
b_=$(tput sgr0)

for i in $PROJECTS; do
	echo "${_b}$i${b_}"
	"$DIRSCRIPT/repoupdate" $i
	"$DIRSCRIPT/repoexport" $i
	"$DIRSCRIPT/repocommit" $i
done
